<div class="register-container">
  <div class="left-side">
    <div class="branding">
      <img src="colorado_logo.jpg" alt="Logo" class="logo" />
      <h2>Embrace the Colorado Flavor</h2>
      <p>Flavor that feels like home.</p>
    </div>
  </div>

  <div class="right-side">
    <form (ngSubmit)="onRegister()" class="register-form" novalidate>
      <h2>Register</h2>

      <label>Email</label>
      <input
        type="email"
        [formControl]="email"
        placeholder="Enter your email"
      />
      <div class="error" *ngIf="email.invalid && email.touched">
        Valid email is required.
      </div>

      <label>Password</label>
      <input
        type="password"
        [formControl]="password"
        placeholder="Enter password"
      />
      <div class="error" *ngIf="password.invalid && password.touched">
        Password must be at least 6 characters.
      </div>

      <label>Confirm Password</label>
      <input
        type="password"
        [formControl]="confirmPassword"
        placeholder="Repeat password"
      />
      <div
        class="error"
        *ngIf="confirmPassword.invalid && confirmPassword.touched"
      >
        Confirmation is required.
      </div>
      <div
        class="error"
        *ngIf="
          confirmPassword.value !== password.value && confirmPassword.touched
        "
      >
        Passwords do not match.
      </div>

      <button
        type="submit"
        [disabled]="
          isLoading ||
          email.invalid ||
          password.invalid ||
          confirmPassword.invalid ||
          password.value !== confirmPassword.value
        "
      >
        {{ isLoading ? "Registering..." : "Register" }}
      </button>

      <div class="success" *ngIf="successMessage">{{ successMessage }}</div>
      <div class="error" *ngIf="errorMessage">{{ errorMessage }}</div>

      <p id="login">
        Already have an account?
        <span routerLink="/login" class="link">Login</span>
      </p>
    </form>

    <app-loading
      *ngIf="isLoading"
      [isLoading]="true"
      [size]="50"
      [overlay]="true"
    ></app-loading>
  </div>
</div>
